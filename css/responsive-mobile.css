/* 
 * responsive-mobile.css
 * Archivo CSS especializado para mejorar la experiencia responsiva
 * en dispositivos móviles Android e iOS de todos los tamaños
 */

/* ===== BREAKPOINTS MÓVILES ===== */
/* 
 * iPhone SE: 375x667
 * iPhone 12/13/14: 390x844
 * iPhone 12/13/14 Pro Max: 428x926
 * Galaxy S20: 360x800
 * Galaxy S21 Ultra: 384x854
 * Pixel 4: 353x745
 */

/* ===== MEJORAS GENERALES ===== */

/* Asegurar que el viewport funcione correctamente */
html {
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
  text-size-adjust: 100%;
  scroll-behavior: smooth;
}

body {
  margin: 0;
  padding: 0;
  overflow-x: hidden; /* Evitar scroll horizontal */
  min-width: 320px; /* Ancho mínimo para dispositivos muy pequeños */
}

/* Contenedores principales */
.container {
  padding-left: 15px;
  padding-right: 15px;
  max-width: 100%;
}

/* ===== HEADER Y NAVEGACIÓN MÓVIL ===== */

/* Barra superior responsiva */
@media (max-width: 768px) {
  .top-bar {
    flex-direction: column;
    padding: 8px 10px;
    text-align: center;
  }
  
  .promo {
    margin-bottom: 8px;
    font-size: 12px;
  }
  
  .top-links {
    flex-wrap: wrap;
    gap: 10px;
    justify-content: center;
  }
  
  .top-links a {
    font-size: 12px;
    padding: 5px 8px;
  }
}

@media (max-width: 480px) {
  .top-bar {
    padding: 5px 8px;
  }
  
  .promo {
    font-size: 11px;
  }
  
  .top-links a {
    font-size: 10px;
    padding: 4px 6px;
  }
}

/* Header principal responsivo */
@media (max-width: 768px) {
  .header {
    padding: 10px 15px;
  }
  
  .logo {
    max-height: 50px;
  }
  
  .nav-principal ul {
    flex-wrap: wrap;
    gap: 10px;
    justify-content: center;
  }
  
  .nav-principal li a {
    font-size: 14px;
    padding: 8px 12px;
  }
}

@media (max-width: 480px) {
  .header {
    padding: 8px 10px;
    flex-direction: column;
    gap: 10px;
  }
  
  .logo {
    max-height: 40px;
  }
  
  .nav-principal ul {
    flex-direction: column;
    width: 100%;
  }
  
  .nav-principal li {
    width: 100%;
  }
  
  .nav-principal li a {
    display: block;
    text-align: center;
    width: 100%;
    font-size: 16px;
    padding: 12px;
    border-bottom: 1px solid #eee;
  }
}

/* ===== TARJETAS DE PRODUCTOS MÓVILES ===== */

/* Contenedor de catálogo responsivo */
@media (max-width: 768px) {
  .catalogo-container {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
    padding: 15px 10px;
  }
  
  .producto-card {
    width: 100%;
    max-width: none;
    height: auto;
    margin: 0;
  }
  
  .producto-card .img-container {
    height: 180px;
  }
}

@media (max-width: 480px) {
  .catalogo-container {
    grid-template-columns: 1fr;
    gap: 20px;
    padding: 15px 15px;
  }
  
  .producto-card {
    max-width: 100%;
  }
  
  .producto-card .img-container {
    height: 250px;
  }
}

/* Información del producto responsiva */
@media (max-width: 768px) {
  .producto-info h3 {
    font-size: 14px;
    line-height: 1.3;
    margin-bottom: 8px;
  }
  
  .producto-precio {
    font-size: 16px;
    margin-bottom: 10px;
  }
  
  .tallas-list {
    gap: 6px;
  }
  
  .talla-btn {
    padding: 6px 12px;
    font-size: 12px;
  }
}

@media (max-width: 480px) {
  .producto-info {
    padding: 12px;
  }
  
  .producto-info h3 {
    font-size: 16px;
    margin-bottom: 10px;
  }
  
  .producto-precio {
    font-size: 18px;
    margin-bottom: 15px;
  }
  
  .tallas-list {
    gap: 8px;
  }
  
  .talla-btn {
    padding: 8px 14px;
    font-size: 14px;
  }
}

/* ===== CARRITO RESPONSIVO ===== */

@media (max-width: 768px) {
  .carrito-modal {
    padding: 10px;
  }
  
  .carrito-content {
    width: 95%;
    max-width: none;
    margin: 20px auto;
    max-height: 90vh;
  }
  
  .carrito-header {
    padding: 15px;
  }
  
  .carrito-item {
    flex-direction: column;
    align-items: flex-start;
    padding: 15px;
    gap: 10px;
  }
  
  .carrito-item-info {
    width: 100%;
  }
  
  .carrito-item-controls {
    width: 100%;
    justify-content: space-between;
  }
}

@media (max-width: 480px) {
  .carrito-modal {
    padding: 5px;
  }
  
  .carrito-content {
    width: 98%;
    margin: 10px auto;
    max-height: 95vh;
  }
  
  .carrito-header h2 {
    font-size: 18px;
  }
  
  .carrito-item {
    padding: 12px;
  }
  
  .carrito-item img {
    width: 60px;
    height: 60px;
  }
}

/* ===== BOTONES Y CONTROLES MÓVILES ===== */

@media (max-width: 768px) {
  .btn-primary,
  .btn-secondary,
  .btn-agregar-carrito {
    padding: 12px 20px;
    font-size: 14px;
    border-radius: 25px;
    min-height: 44px; /* Tamaño mínimo recomendado para touch */
  }
}

@media (max-width: 480px) {
  .btn-primary,
  .btn-secondary,
  .btn-agregar-carrito {
    width: 100%;
    padding: 15px;
    font-size: 16px;
    min-height: 48px;
  }
}

/* ===== MODALES Y OVERLAYS MÓVILES ===== */

@media (max-width: 768px) {
  .modal-content {
    width: 90%;
    margin: 20px auto;
    padding: 20px;
  }
  
  .modal-header h2 {
    font-size: 18px;
  }
  
  .modal-close {
    top: 10px;
    right: 10px;
    width: 35px;
    height: 35px;
    font-size: 20px;
  }
}

@media (max-width: 480px) {
  .modal-content {
    width: 95%;
    margin: 10px auto;
    padding: 15px;
    border-radius: 10px;
  }
  
  .modal-header {
    padding-bottom: 15px;
  }
  
  .modal-close {
    width: 40px;
    height: 40px;
    font-size: 24px;
  }
}

/* ===== FORMULARIOS MÓVILES ===== */

@media (max-width: 768px) {
  .form-group {
    margin-bottom: 15px;
  }
  
  .form-control {
    padding: 12px 15px;
    font-size: 16px; /* Evita zoom en iOS */
    border-radius: 8px;
    min-height: 44px;
  }
  
  .form-label {
    font-size: 14px;
    margin-bottom: 8px;
  }
}

@media (max-width: 480px) {
  .form-control {
    padding: 15px;
    font-size: 16px;
    min-height: 48px;
  }
  
  .form-row {
    flex-direction: column;
  }
  
  .form-col {
    width: 100%;
    margin-bottom: 15px;
  }
}

/* ===== CHECKOUT RESPONSIVO ===== */

@media (max-width: 768px) {
  .checkout-container {
    flex-direction: column;
    gap: 20px;
  }
  
  .checkout-form,
  .checkout-summary {
    width: 100%;
  }
  
  .payment-methods {
    flex-direction: column;
    gap: 10px;
  }
  
  .payment-method {
    width: 100%;
  }
}

/* ===== FOOTER RESPONSIVO ===== */

@media (max-width: 768px) {
  .footer {
    padding: 30px 15px;
  }
  
  .footer-content {
    flex-direction: column;
    gap: 30px;
    text-align: center;
  }
  
  .footer-section {
    width: 100%;
  }
  
  .footer-section h4 {
    font-size: 16px;
    margin-bottom: 15px;
  }
  
  .footer-section ul li {
    margin-bottom: 8px;
  }
}

@media (max-width: 480px) {
  .footer {
    padding: 20px 10px;
  }
  
  .footer-section h4 {
    font-size: 14px;
  }
  
  .footer-section ul li a {
    font-size: 13px;
  }
}

/* ===== WHATSAPP BUTTON MÓVIL ===== */

@media (max-width: 768px) {
  .whatsapp-button {
    width: 50px;
    height: 50px;
    bottom: 20px;
    right: 20px;
  }
  
  .whatsapp-button i {
    font-size: 24px;
  }
}

@media (max-width: 480px) {
  .whatsapp-button {
    width: 55px;
    height: 55px;
    bottom: 15px;
    right: 15px;
  }
  
  .whatsapp-button i {
    font-size: 26px;
  }
}

/* ===== CHATBOT RESPONSIVO ===== */

@media (max-width: 768px) {
  .chatbot-container {
    width: 90%;
    height: 70vh;
    bottom: 90px;
    right: 20px;
  }
  
  .chatbot-header {
    padding: 12px 15px;
  }
  
  .chatbot-messages {
    padding: 15px;
  }
}

@media (max-width: 480px) {
  .chatbot-container {
    width: 95%;
    height: 75vh;
    bottom: 85px;
    right: 10px;
    left: 10px;
  }
  
  .chatbot-input {
    padding: 12px 15px;
    font-size: 16px;
  }
}

/* ===== MEJORAS DE TOUCH ===== */

/* Aumentar áreas de toque */
@media (max-width: 768px) {
  .btn,
  .nav-link,
  .carrito-toggle,
  .close-btn {
    min-height: 44px;
    min-width: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
}

/* ===== OPTIMIZACIONES PARA iOS ===== */

/* Evitar zoom en inputs */
@media (max-width: 768px) {
  input[type="text"],
  input[type="email"],
  input[type="tel"],
  input[type="password"],
  textarea,
  select {
    font-size: 16px !important;
  }
}

/* Safe area para iPhone X y superiores */
@supports (padding: max(0px)) {
  .header,
  .footer {
    padding-left: max(15px, env(safe-area-inset-left));
    padding-right: max(15px, env(safe-area-inset-right));
  }
  
  .top-bar {
    padding-top: max(8px, env(safe-area-inset-top));
  }
  
  .footer {
    padding-bottom: max(20px, env(safe-area-inset-bottom));
  }
}

/* ===== SCROLL HORIZONTAL FIX ===== */

/* Prevenir scroll horizontal en todos los elementos */
* {
  max-width: 100%;
  box-sizing: border-box;
}

img {
  max-width: 100%;
  height: auto;
}

/* ===== LOADING Y PERFORMANCE ===== */

/* Lazy loading para imágenes */
img[loading="lazy"] {
  opacity: 0;
  transition: opacity 0.3s;
}

img[loading="lazy"].loaded {
  opacity: 1;
}

/* ===== ACCESIBILIDAD MÓVIL ===== */

/* Mejor contraste para pantallas pequeñas */
@media (max-width: 480px) {
  .text-muted {
    color: #555 !important;
  }
  
  .btn-outline {
    border-width: 2px;
  }
}

/* Focus visible para navegación por teclado */
@media (max-width: 768px) {
  *:focus {
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
  }
}
